let phoneNumberMask=(i,e,o,t,s=!1)=>{let n=t,h=e.length,r=e.split(""),d=e.split(""),a="",l=i,u=i,c=!1;function v(t){c=!0,a.length||(t.target.value=e,b(n,i))}function m(t){c=!1,a.length||(t.target.value="")}function p(t){t.preventDefault();var e=t.key;if("Tab"!==e)if("Delete"===e&&u<l)u<i?u=i:(!o.includes(d[l-1])&&" "!==d[l-1]||(l-=1),l-=1,d=((t,s,n)=>t=t.map((t,e,i)=>s<=e&&" "!==i[e]&&!o.includes(i[e])?i[e]=n[e]:t))(d,l,r),a=L(a),t.target.value=d.join("")),b(t.target,u);else{if("ArrowRight"===e&&(u<h&&u++,b(t.target,u)),"ArrowLeft"===e&&(0<u&&u--,b(t.target,u)),"Backspace"===e&&l>i)return o.includes(d[l-1])||" "===d[l-1]?(l=l-1-1,d=g(d,l,r),u=l,setTimeout(()=>{t.target.value=d.join(""),b(t.target,u)},0),void(a=L(a))):(l-=1,u=l,d=g(d,l,r),a=L(a,r),t.target.value=d.join(""),void b(t.target,u));l!==h&&("Backspace"===t.code&&t.target.selectionStart<i&&(t.preventDefault(),b(t.target,i)),"0"<=e)&&e<="9"&&(!o.includes(d[l])&&" "!==d[l]||(l+=1),a+=t.key,d[l]=t.key,l+=1,u=l,t.target.value=d.join(""),b(t.target,u))}}function S(t){u=((t.target.selectionStart<i||!a)&&b(t.target,i),t.target.selectionStart)}function g(t,s,n){return t.map((t,e,i)=>e===s?(i[e]=n[e],i[e]):t)}function b(t,e){t.selectionStart=t.selectionEnd=e}function L(t){return t.slice(0,-1)}return n.addEventListener("focus",v),n.addEventListener("blur",m),n.addEventListener("keydown",p),n.addEventListener("click",S),s&&(n.addEventListener("mouseenter",function(t){a.length||(t.target.value=e)}),n.addEventListener("mouseleave",function(t){a.length||c||(t.target.value="")})),function(){n.removeEventListener("focus",v),n.removeEventListener("blur",m),n.removeEventListener("keydown",p),n.removeEventListener("click",S),s&&(n.removeEventListener("mouseenter",handleMouseEnter),n.removeEventListener("mouseleave",handleMouseLeave))}};console.log("маска телефона");class Slider{constructor(t){this.mediaQueries=t,this.sliderCount=!1,this.iconCount=!1,this.sliderNumberStep=!1,this.stepNumber=1,this.dragDropMouse=!1,this.dragDropTouch=!1}initSlider({btnNext:t=null,btnPrev:e=null,containerSlider:i,slider:s,item:n,itemLength:o}){this.windowWidth=document.documentElement.clientWidth,this.item=n,this.btnNext=t,this.btnPrev=e,this.containerSlider=i,this.slider=s,this.sliderLength=o,this.visibleSlides=this.getVisibleSlidesMediaQueries(this.mediaQueries),this.distance=this.updateWidthItem(),this.position=0,this.onResize=this.handleResize.bind(this),this.onDOMLoaded=this.handleDOMLoaded.bind(this),document.addEventListener("DOMContentLoaded",this.onDOMLoaded),window.addEventListener("resize",this.onResize),this.btnNext&&this.btnPrev&&(this.onclickNext=this.handleClickNext.bind(this),this.onclickPrev=this.handleClickPrev.bind(this),this.btnNext.addEventListener("click",this.onclickNext),this.btnPrev.addEventListener("click",this.onclickPrev))}removeAllListener(){document.removeEventListener("DOMContentLoaded",this.onDOMLoaded),window.removeEventListener("resize",this.onResize),this.btnNext&&this.btnPrev&&(this.btnNext.removeEventListener("click",this.onclickNext),this.btnPrev.removeEventListener("click",this.onclickPrev)),this.dragDropMouse&&(this.slider.removeEventListener("mousedown",this.onmousedown,{passive:!1}),this.slider.removeEventListener("mousemove",this.onmousemove,{passive:!1}),document.removeEventListener("mouseup",this.onmouseup)),this.dragDropTouch&&(this.slider.removeEventListener("touchstart",this.ontouchstart,{passive:!1}),this.slider.removeEventListener("touchmove",this.ontouchmove,{passive:!1}),document.removeEventListener("touchend",this.ontouchend))}handleClickNext(){this.moveNext(),this.updateButtonStates(),this.sliderCount&&this.showSlideStep()}handleClickPrev(){this.movePrev(),this.updateButtonStates(),this.sliderCount&&this.showSlideStep()}handleResize(){var t=document.documentElement.clientWidth;if(t!==this.windowWidth){if(this.resetSlider(),this.distance=this.updateWidthItem(),this.visibleSlides=this.getVisibleSlidesMediaQueries(this.mediaQueries),this.sliderCount){if(this.setCountTotalStep(),!this.sliderNumberStep)return;this.showTotalStep()}this.windowWidth=t,this.updateButtonStates()}}handleDOMLoaded(){if(this.sliderCount){if(this.setCountTotalStep(),!this.sliderNumberStep)return;this.showTotalStep()}this.updateButtonStates()}initCount(t=null,e=null){this.sliderCount=!0,t&&e&&(this.totalStep=t,this.stepSlide=e,this.sliderNumberStep=!0)}initIconCount(t,e){this.iconCount=t,this.iconActiveClassName=e}initDragDrop(t=!1){this.dragDropTouch=!0,this.isDragging=!1,this.touchStart=0,this.touchEnd=0,this.touchMove=0,this.ontouchstart=this.handleStart.bind(this),this.ontouchmove=this.handleMove.bind(this),this.ontouchend=this.handleEnd.bind(this),this.slider.addEventListener("touchstart",this.ontouchstart,{passive:!1}),this.slider.addEventListener("touchmove",this.ontouchmove,{passive:!1}),document.addEventListener("touchend",this.ontouchend),t&&(this.dragDropMouse=!0,this.onmousedown=this.handleStart.bind(this),this.onmousemove=this.handleMove.bind(this),this.onmouseup=this.handleEnd.bind(this),this.slider.addEventListener("mousedown",this.onmousedown,{passive:!1}),this.slider.addEventListener("mousemove",this.onmousemove,{passive:!1}),document.addEventListener("mouseup",this.onmouseup))}handleStart(t){t.preventDefault();t=(t.touches?t.touches[0]:t).clientX;this.startDragDrop(t)}handleMove(t){this.isDragging&&(t.preventDefault(),t=(t.touches?t.touches[0]:t).clientX,this.moveDragDrop(t))}handleEnd(t){this.isDragging&&(t.preventDefault(),this.endDragDrop())}startDragDrop(t){this.isDragging=!0,this.touchStart=t}moveDragDrop(t){this.touchMove=t-this.touchStart+this.position,this.animateSlider(this.slider,this.touchMove),this.touchEnd=t}endDragDrop(){this.isDragging=!1,this.position=this.touchMove,setTimeout(()=>{0<this.position?(this.animateSlider(this.slider,0),this.position=0,this.sliderCount&&this.showSlideStep()):this.position<this.sliderEnd()?(this.animateSlider(this.slider,this.sliderEnd()),this.position=this.sliderEnd(),this.showSlideStep()):(this.touchEnd-this.touchStart<-20?(this.position=this.distance*Math.floor(this.position/this.distance),this.sliderCount&&this.showSlideStep()):20<this.touchEnd-this.touchStart?(this.position=this.distance*Math.ceil(this.position/this.distance),this.sliderCount&&this.showSlideStep()):this.position=this.distance*Math.round(this.position/this.distance),this.animateSlider(this.slider,this.position)),this.updateButtonStates()},100)}sliderEnd(){return-(this.sliderLength*this.distance-this.visibleSlides*this.distance)}updateButtonStates(){this.btnNext&&(this.btnNext.disabled=this.position<=this.sliderEnd()),this.btnPrev&&(this.btnPrev.disabled=0<=this.position)}setCountTotalStep(){this.countStep=this.sliderLength-this.visibleSlides+1}showTotalStep(){this.sliderNumberStep&&(this.totalStep.textContent=this.countStep)}showSlideStep(){var t;0<this.position||(t=Math.abs(this.position/this.distance)+1,this.stepNumber=t,this.iconCount&&(this.iconCount.forEach(t=>t.classList.remove(this.iconActiveClassName)),this.iconCount[t-1])&&this.iconCount[t-1].classList.add(this.iconActiveClassName),this.sliderNumberStep&&(t>=this.totalStep.textContent?this.stepSlide.textContent=this.totalStep.textContent:this.stepSlide.textContent=t))}getVisibleSlidesMediaQueries(t){for(var e in t)if(t[e].matches)return parseInt(e)}updateWidthItem(){return this.item.offsetWidth}moveNext(){var t=this.visibleSlides*this.distance-this.distance*this.sliderLength;this.position<=t||(this.position=this.position-this.distance,this.animateSlider(this.slider,this.position))}movePrev(){0!==this.position&&(this.position=this.position+this.distance,this.animateSlider(this.slider,this.position))}animateSlider(t,e){requestAnimationFrame(()=>{t.style.transform=`translateX(${e}px)`})}resetSlider(){this.position=0,this.sliderNumberStep&&(this.stepSlide.textContent=1),this.iconCount&&(this.iconCount.forEach(t=>t.classList.remove(this.iconActiveClassName)),this.iconCount[this.position].classList.add(this.iconActiveClassName)),this.animateSlider(this.slider,this.position)}}let media={1:window.matchMedia("(max-width: 575px)"),2:window.matchMedia("(max-width: 767px)"),4:window.matchMedia("(max-width: 1024px)"),5:window.matchMedia("(min-width: 1025px)")};function initializePhoneNumberMask(t){var e=document.getElementById(t);e?phoneNumberMask(3,"+7(___)___-__-__",[")","(","-"],e,!0):console.warn(`Элемент ${t} не найден. Маска не будет применена.`)}function initHeaderStyle(){let t=document.getElementById("page-header");window.addEventListener("scroll",()=>{50<window.scrollY?t.classList.add("header-move"):t.classList.remove("header-move")})}document.querySelectorAll(".container-slider").forEach((t,e)=>{e={btnNext:document.querySelectorAll(".btn-next-slide")[e],btnPrev:document.querySelectorAll(".btn-prev-slide")[e],containerSlider:t,slider:t.querySelector(".slider"),itemLength:t.querySelectorAll(".item").length,item:t.querySelector(".item")},t=new Slider(media);t.initSlider(e),t.initDragDrop("desktop"),t.initIconCount()}),initializePhoneNumberMask("phone"),initHeaderStyle();